<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="aglcontainerweb.css" />
<title>Automotive Grade Linux Container Demo</title>
</head>
<body bgcolor="white">
<p>
<div class="container-demo">
<div class="container-agllogo">
     <img src="image/agllogo.png" alt="Automotive Grade Linux">
</div>
</p>
<div class="container-allitem">
<div>
<center><h2> Click to your favorite IVI </h2></center>
</div>
<div class="container-ivi">
     <div class="container-item" id="agl-qt-ivi-demo">
          <div class="container-item-img">
               <img src="image/qtlogo.png" alt="Automotive Grade Linux" onclick="QtClick()">
          </div>

          <h4><b>Qt Based IVI</b></h4>
          </center>
     </div>
     <div class="container-item" id="agl-html5-ivi-demo">
          <div class="container-item-img">
               <img src="image/html5logo.png" alt="Automotive Grade Linux" onclick="HTML5Click()">
          </div>
          <h4><b>HTML5 Based IVI</b></h4>
     </div>
     <div class="container-item" id="agl-flutter-ivi-demo">
          <div class="container-item-img">
               <img src="image/flutterlogo.png" alt="Automotive Grade Linux" onclick="FlutterClick()">
          </div>
          <center>
          <h4><b>Flutter Based IVI</b></h4>
          </center>
     </div>
     <div class="container-item" id="agl-momi-ivi-demo">
          <div class="container-item-img">
               <img src="image/momilogo.png" alt="Automotive Grade Linux" onclick="MomiClick()">
          </div>
          <h4><b>MOMI IVI</b></h4>
     </div>
</div>
</div>
<div class="container-control">
     <div class="container-bomb">
          <div class="container-item-img">
               <img id="bomb" src="image/bomb.png" alt="Automotive Grade Linux" onclick="BombClick()">
          </div>
     </div>
</div>

</div>
<script>
function QtClick(){
     const res = fetch("cgi-bin/qt.cgi");
}
function HTML5Click(){
     const res = fetch("cgi-bin/html5.cgi");
}
function FlutterClick(){
     const res = fetch("cgi-bin/flutter.cgi");
}
function MomiClick(){
     const res = fetch("cgi-bin/momi.cgi");
}
setTimeout(StatusGet, 1000);
function StatusGet(){
     fetch("cgi-bin/status.cgi")
          .then(response => response.text())
          .then(
               data => {
                    ShowGuestStatus(data);
               }
          );

     setTimeout(StatusGet, 1000);
}
function ShowGuestStatus(jsondata){
     var status = JSON.parse(jsondata);

     var row_count = status["guest-status"].length;
     for(var i=0; i < row_count;i++) {
          var name = status["guest-status"][i]["guest-name"];
          var stat = status["guest-status"][i]["status"];
          var elem = document.getElementById(name);

          if (elem != null) {
               if (stat == "started") {
                    elem.style.borderColor ="#c8ffc8";
               } else if (stat == "shutdown") {
                    elem.style.borderColor ="#c8c8ff";
               } else if (stat == "dead") {
                    elem.style.borderColor ="#ff8080";
               } else {
                    elem.style.borderColor ="#808080";
               }
          }
     }
}

function BombClick(){
     const res = fetch("cgi-bin/bomb.cgi");
}
</script>

</body>
</html>
